<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="menu.css">
    <link rel="stylesheet" href="https://use.typekit.net/spk7ikh.css">

    <link rel="stylesheet" href="https://use.typekit.net/spk7ikh.css">





</head>

<body>
    <section id="section_start"></section>
    <header>
        <div class="header_2">
            <div class="nav_1">
                <nav>
                    <a href="#section">Menu</a>
                    <a href="#kontakt">Kontakt</a>
                    <a href="#reserver">Reservér Bord</a>

                </nav>
            </div>
        </div>
        <div class="logo_container">
            <a href="#section_start"><img class="logo" src="logo-01.png" alt="logo"></a>
        </div>

    </header>
    <div class="splash">

    </div>

    <section id="section">

        <h1>Menu</h1>

        <h2>Alle Retter</h2>
        <nav>
            <button data-kategori="alle" class="valgt">Alle Retter</button>
            <button data-kategori="forretter">Forretter</button>
            <button data-kategori="hovedretter">Hovedretter</button>
            <button data-kategori="desserter">Desserter</button>
            <button data-kategori="sideorders">Sideorders</button>
            <button data-kategori="drikkevarer">Drikkevarer</button>

        </nav>
    </section>

    <section id="liste"></section>

    <template>
        <article class="ret">
            <h2 class="navn"></h2>
            <img class="billede" src="" alt="">
            <p class="kort_beskrivelse"></p>
            <p class="oprindelsesregion"></p>
            <p class="pris"></p>
        </article>
    </template>

    <section id="kontakt">
        <div class="kontakt">
            <h1>Kontakt</h1>
            <div class="columns">
                <div class="col">
                    <img src="maps.png" id="maps" alt="beliggenhed">
                </div>
                <div class="kolonner">
                    <div class="col_1">
                        <img class="lokation" src="location.png" alt="lokationsikon">
                        <p>Turesensgade 10</p>
                        <p>1368 København</p>
                        <p>+45 00 00 00 00</p>
                    </div>

                    <div class="col_1">
                        <img class="time" src="open.png" alt="åbningstiderikon">
                        <p>Åbningstider:</p>
                        <p>Mandag – søndag</p>
                        <p>12 – 22</p>

                    </div>
                    <p>info@babushka.dk</p>

                </div>
            </div>
        </div>
    </section>

    <section id="reserver">
        <div class="reserver">
            <h1>Reservér bord</h1>
            <p>Udfyld her, og vi vender tilbage hurtigst muligt</p>
            <div class="boks">
                <p>Navn</p>
            </div>
            <div class="boks">
                <p>E-mail</p>
            </div>
            <div class="boks">
                <p>Mobil</p>
            </div>
            <div class="boks">
                <p>Tidspunkt</p>
            </div>
            <div class="boks">
                <p>Antal gæster</p>
            </div>

            <button>Reservér</button>


            <p><strong>Vi glæder os til at se jer!</strong></p>
        </div>

    </section>

    <a href="#section_start">
        <div class="container">
            <div class="tiltoppen">
                <div class="tekst">
                    <p>Til </p>
                    <p>toppen</p>
                </div>
            </div>
        </div>
    </a>


    <footer>
        <div class="footer">
            <div class="col_1">
                <p>Cookie- og privatlivspolitik</p>
                <p>FAQ</p>
                <p>Smileyrapport</p>
                <p>Kontakt Os</p>
                <p>info@babushka.dk</p>
            </div>
            <div class="col_1">
                <p>Åbningstider:</p>
                <p>Mandag – søndag</p>
                <p>12 – 22</p>
            </div>
            <div class="col_1">
                <p>Turesensgade 10</p>
                <p>1368 København</p>
                <p>+45 00 00 00 00</p>
            </div>
        </div>
    </footer>
    <script>
        const header = document.querySelector("#section h2");
        const medieurl = "https://babushka-dd8a.restdb.io/media/";
        const myHeaders = {
            'x-apikey': "600ec2fb1346a1524ff12de4"
        };

        document.addEventListener("DOMContentLoaded", start)
        let retter;
        let filter = "alle";


        // første funktion der kaldes efter DOM er loaded
        function start() {
            const filterKnapper = document.querySelectorAll("nav button");
            filterKnapper.forEach(knap => knap.addEventListener("click", filtrerRetter));
            loadJSON();
        }


        function filtrerRetter() {
            filter = this.dataset.kategori;

            document.querySelector(".valgt").classList.remove("valgt");
            this.classList.add("valgt");

            visRetter();
            header.textContent = this.textContent;
        }

        async function loadJSON() {
            const JSONData = await fetch("https://babushka-dd8a.restdb.io/rest/menu", {
                headers: myHeaders
            });
            retter = await JSONData.json();
            console.log("retter", retter);
            visRetter();
        }

        function visRetter() {
            const dest = document.querySelector("#liste");
            const template = document.querySelector("template").content;

            dest.textContent = "";

            retter.forEach(ret => {

                if (filter == ret.kategori || filter == "alle") {

                    const klon = template.cloneNode(true);

                    klon.querySelector(".billede").src = medieurl + ret.billede;
                    klon.querySelector(".billede").alt = `Billede af ${ret.navn}`;
                    klon.querySelector(".navn").textContent = ret.navn;
                    klon.querySelector(".kort_beskrivelse").textContent = ret.kortbeskrivelse;
                    klon.querySelector(".oprindelsesregion").textContent = ret.oprindelsesregion;
                    klon.querySelector(".pris").textContent = `${ret.pris} DKK`;
                    klon.querySelector(".ret").addEventListener("click", () => visDetaljer(ret));

                    dest.appendChild(klon);
                }
            })
        }

        function visDetaljer(hvilken) {
            location.href = `02-detaljer.html?id=${hvilken._id}`;
        }

    </script>
</body>

</html>
